{% extends 'tareas/base.html' %}
{% block content %}



<div class="header-bar">
    <a href="{% url 'pagos_preventa' %}">&#8592; Atras</a>
    
</div>



<div class="card-body">
    <h1>Comprobante</h1>
    <form enctype="multipart/form-data" method="POST">
        {% csrf_token %}
        <!-- {{form.as_p}} -->
        <li>Preventa: {{form.preventa}}</li>
        <p></p>


        <li>Depositante difiere del titular? <input type="checkbox" id="mostrar_depositante_cuit" name="mostrar_depositante_cuit"> </li>
        
        
        <div id="campo_depositante_cuit" style="display:none;">
            <li>DNI / CUIT / CUIL de Titular o CO-Titular de cuenta:</li>
            {{ form.depositante_cuit }}
        </div>



        <p></p>
        <li>Numero Comprobante: {{form.numero_comprobante}}</li>
        <p></p>
        <li>Monto: {{form.monto}}</li>
        <p></p>
        <li>Comprobante: {{form.comprobante}}</li>
        <p></p>
        {% if form.estado.value == '3Rechazado' and form.motivo_rechazo.value != '' %}
            <li>Motivo de rechazo: {{form.motivo_rechazo.value}}</li>
        <p></p>
        {% endif %}
        <p></p>
        <input class="button" type="submit" value="Guardar">
        
        {% if preventa.id %}
            <a href="{% url 'lista-pagos-preventa' pk=preventa.id %}" class="button">Pagos de la preventa</a>    
        {% endif %}    
    </form>
    
</div>
<script>
    var mostrarCheckbox = document.getElementById("mostrar_depositante_cuit");
    var campoDepositanteCuit = document.getElementById("campo_depositante_cuit");

    mostrarCheckbox.addEventListener("change", function () {
        if (mostrarCheckbox.checked) {
            campoDepositanteCuit.style.display = "block";
        } else {
            campoDepositanteCuit.style.display = "none";
        }
    });
</script>

{% endblock content %}
